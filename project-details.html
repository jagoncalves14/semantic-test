<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Project details | Gatsby Starter</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="A simple starter to get up and developing quickly with Gatsby and WP GraphQL.">
    <link rel="preload" href="/pixel-gatsby/assets/css/0.styles.2a1d61a3.css" as="style"><link rel="preload" href="/pixel-gatsby/assets/js/app.9945ff36.js" as="script"><link rel="preload" href="/pixel-gatsby/assets/js/2.a7e9810e.js" as="script"><link rel="preload" href="/pixel-gatsby/assets/js/10.61c9f9de.js" as="script"><link rel="prefetch" href="/pixel-gatsby/assets/js/3.fb1f7d58.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/4.de2dff8e.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/5.a4670de6.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/6.7f3fa182.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/7.58095bfd.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/8.f5efdba4.js"><link rel="prefetch" href="/pixel-gatsby/assets/js/9.bb1e35b2.js">
    <link rel="stylesheet" href="/pixel-gatsby/assets/css/0.styles.2a1d61a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/pixel-gatsby/" class="home-link router-link-active"><img src="/pixel-gatsby/logo-pixelmatters.svg" alt="Gatsby Starter" class="logo"> <span class="site-name can-hide">Gatsby Starter</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Pixelmatters/pixel-gatsby/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Pixelmatters/pixel-gatsby/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pixel-gatsby/" class="sidebar-link">Introduction</a></li><li><a href="/pixel-gatsby/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/pixel-gatsby/project-details.html" class="active sidebar-link">Project Details</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pixel-gatsby/project-details.html#file-structure" class="sidebar-link">File structure</a></li><li class="sidebar-sub-header"><a href="/pixel-gatsby/project-details.html#programmatically-create-pages-from-data" class="sidebar-link">Programmatically create pages from data</a></li><li class="sidebar-sub-header"><a href="/pixel-gatsby/project-details.html#storybook" class="sidebar-link">Storybook</a></li></ul></li><li><a href="/pixel-gatsby/components.html" class="sidebar-link">Building with Components</a></li><li><a href="/pixel-gatsby/contribute.html" class="sidebar-link">Contribute</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="project-details"><a href="#project-details" class="header-anchor">#</a> Project details</h1> <h2 id="file-structure"><a href="#file-structure" class="header-anchor">#</a> File structure</h2> <p>Some notable files and their definitions:</p> <ul><li><code>gatsby-config.js</code> — configure options for a Gatsby site, with metadata for project title, description, plugins, etc.</li> <li><code>gatsby-node.js</code> — implement Gatsby’s Node.js APIs to customize and extend default settings affecting the build process</li> <li><code>gatsby-browser.js</code> — customize and extend default settings affecting the browser, using Gatsby’s browser APIs</li> <li><code>gatsby-ssr.js</code> — use Gatsby’s server-side rendering APIs to customize default settings affecting server-side rendering</li></ul> <p>Here is a brief overview of the file structure:</p> <div class="language- extra-class"><pre class="language-text"><code>/
|-- /.cache
|-- /plugins
|-- /public
|-- /src
    |-- /pages
    |-- /templates
    |-- html.js
|-- /static
|-- gatsby-config.js
|-- gatsby-node.js
|-- gatsby-browser.js
</code></pre></div><ul><li><code>/.cache</code>: Automatically generated. This folder is an internal cache created automatically by Gatsby. The files inside this folder are not meant for modification. Should be added to the .gitignore file if not added already.</li> <li><code>/plugins</code>: This folder hosts any project-specific (“local”) plugins that aren’t published as an npm package. Check out the plugin docs for more detail.</li> <li><code>/public</code>: Automatically generated. The output of the build process will be exposed inside this folder. Should be added to the .gitignore file if not added already.</li> <li><code>/src</code>: This directory will contain all of the code related to what you will see on the frontend of your site (what you see in the browser), like your site header, or a page template. “Src” is a convention for “source code”.
<ul><li><code>/pages</code>: Components under src/pages become pages automatically with paths based on their file name.</li> <li><code>/templates</code>: Contains templates for programmatically creating pages.</li></ul></li> <li><code>/static</code>: If you put a file into the static folder, it will not be processed by Webpack. Instead it will be copied into the public folder untouched. Check out the assets docs for more detail.</li></ul> <h2 id="programmatically-create-pages-from-data"><a href="#programmatically-create-pages-from-data" class="header-anchor">#</a> Programmatically create pages from data</h2> <p>There's two ways to create new pages, you can create each on src/pages or you can create them programmatically. Gatsby lets you use GraphQL to query your data and map the query results to pages—all at build time. The programmatically created pages use src/templates to create the pages.</p> <p>On this tempalte you have examples of programmatically created pages. The following example is a shorter version of the one you can see on gatsby-node.js. This queries the first 1000 blog posts  on the API and retrieves the required information, after the result of the query is used to create pages using createPage function:</p> <div class="language- extra-class"><pre class="language-text"><code>  /** Create Blog Posts */
  const postResults = await graphql(`
    query GET_POSTS {
      wpgraphql {
        posts(first: 1000, after: null) {
          edges {
            node {
              databaseId
              slug
              title
              ...
            }
          }
        }
      }
    }
  `);

  postResults.data.wpgraphql.posts.edges.forEach(({ node }) =&gt; {
    createPage({
      path: node.slug,
      component: path.resolve(`./src/templates/blog-template.tsx`),
      context: {
        // This is the $slug variable passed to blog-post.tsx
        slug: node.slug,
        databaseId: node.databaseId,
      },
    })
  });
</code></pre></div><p>If the goal is to create different templates for different pages id, slugs or Wordpress template name from WordPress can be used to render the correct template.
<strong>gatsby-node.js</strong></p> <div class="language- extra-class"><pre class="language-text"><code>/** Create Pages */
const pageResults = await graphql(`
  query GET_PAGES {
    wpgraphql {
      pages(first: 1000, after: null) {
        edges {
          node {
            title
            slug
            template
            ....
          }
        }
      }
    }
  }
`);

pageResults.data.wpgraphql.pages.edges.forEach(({ node }) =&gt; {
  createPage({
    path: node.slug,
    component: path.resolve(`./src/templates/page-templates/index.tsx`),
    context: {
      slug: node.slug,
      databaseId: node.databaseId,
    },
  })
});
</code></pre></div><p><strong>/src/templates/page-templates/index.tsx</strong></p> <div class="language- extra-class"><pre class="language-text"><code>export default class IndexPage extends React.Component&lt;IIndexProps&gt; {
  public render() {
    if (pageContext.template === &quot;templates/tpl-homepage.php&quot;) {
      return (
        &lt;&gt;
          HTML FOR THE PAGE
        &lt;/&gt;
      )
    }
  }
}
</code></pre></div><h2 id="storybook"><a href="#storybook" class="header-anchor">#</a> Storybook</h2> <p>Storybook is a user interface development environment and playground for UI components. The tool enables developers to create components independently and showcase components interactively in an isolated development environment. Read more about <a href="https://storybook.js.org/docs/basics/introduction/" target="_blank" rel="noopener noreferrer">Storybook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language- extra-class"><pre class="language-text"><code>  # Use to start development enviroment
  yarn storybook

  # Use to build storybook for production
  build-storybook
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pixel-gatsby/getting-started.html" class="prev">
        Getting Started
      </a></span> <span class="next"><a href="/pixel-gatsby/components.html">
        Building with Components
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/pixel-gatsby/assets/js/app.9945ff36.js" defer></script><script src="/pixel-gatsby/assets/js/2.a7e9810e.js" defer></script><script src="/pixel-gatsby/assets/js/10.61c9f9de.js" defer></script>
  </body>
</html>
